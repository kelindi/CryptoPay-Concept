(this.webpackJsonpteam42=this.webpackJsonpteam42||[]).push([[0],{57:function(e,t,s){},59:function(e,t,s){},71:function(e,t){},80:function(e,t){},84:function(e,t,s){"use strict";s.r(t);var n=s(9),r=s.n(n),a=s(44),i=s.n(a),c=(s(57),s(3)),l=s.n(c),o=s(24),d=s(4),u=s(5),h=s(7),b=s(6),m=(s(59),s(22)),j=s(12),p=s(8),x=function(){function e(t,s){Object(d.a)(this,e),this.firstName=t,this.lastName=s}return Object(u.a)(e,[{key:"function1",value:function(){return 1}}]),e}(),f=s(0),g=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleLogin=function(){var e=Object(o.a)(l.a.mark((function e(t){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.props.connectWallet();case 3:if(!1!==e.sent.connectedStatus){e.next=7;break}return n.setState({walletNotConnected:!0}),e.abrupt("return");case 7:if(n.props.backend.loginDB[n.state.userName]!==n.state.password){e.next=18;break}if(s=n.props.backend.tokenDB[n.state.userName],r=n.props.backend.userDB[s],n.props.setCurrentUser(r),!(r instanceof x)){e.next=16;break}return n.setState({redirectAdmin:!0}),e.abrupt("return");case 16:return n.setState({redirectUser:!0}),e.abrupt("return");case 18:n.setState({failedAttempt:!0});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={userName:"",password:"",failedAttempt:!1,redirectUser:!1,redirectAdmin:!1,walletNotConnected:!1},n.handleUsernameChange=n.handleUsernameChange.bind(Object(p.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(p.a)(n)),n.handleLogin=n.handleLogin.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"handleUsernameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.state.redirectUser?Object(f.jsx)(j.a,{push:!0,to:"/userDashBoard"}):this.state.redirectAdmin?Object(f.jsx)(j.a,{push:!0,to:"/adminDashBoard"}):this.state.walletNotConnected?Object(f.jsx)(j.a,{push:!0,to:"/metamask"}):Object(f.jsx)("div",{className:"font-serif",children:Object(f.jsxs)("div",{className:"relative min-h-screen flex flex-col sm:justify-center items-center bg-grey",children:[Object(f.jsx)("div",{className:"text-8xl font-mono my-4",children:"CryptoPay"}),Object(f.jsx)("div",{className:"relative sm:max-w-sm w-full",children:Object(f.jsxs)("div",{className:"relative w-full rounded-3xl  px-6 py-4 bg-white shadow-md border",children:[Object(f.jsx)("label",{className:"block mt-3 text-2xl text-gray-700 text-center font-semibold",children:"Login"}),Object(f.jsxs)("form",{className:"mt-10",onSubmit:function(e){return!1},children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{value:this.state.userName,onChange:this.handleUsernameChange,placeholder:"Username",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("div",{className:"mt-7",children:Object(f.jsx)("input",{value:this.state.password,onChange:this.handlePasswordChange,type:"password",placeholder:"Password",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("label",{className:"text-red-500 "+(this.state.failedAttempt?"":"hidden"),children:"That username or password is incorrect."}),Object(f.jsxs)("div",{className:"mt-7 flex hidden",children:[Object(f.jsxs)("label",{htmlFor:"remember_me",className:"inline-flex items-center w-full cursor-pointer",children:[Object(f.jsx)("input",{id:"remember_me",type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 outline-none",name:"remember"}),Object(f.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),Object(f.jsx)("div",{className:"w-full text-right",children:Object(f.jsx)("a",{className:"underline text-sm text-gray-600 hover:text-gray-900",href:"#",children:"forgot password?"})})]}),Object(f.jsx)("div",{className:"mt-7",children:Object(f.jsx)("button",{onClick:this.handleLogin,className:"bg-blue-500 w-full py-3 rounded-xl text-white shadow-xl hover:shadow-inner focus:outline-none transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:"Login"})}),Object(f.jsx)("div",{className:"mt-7",children:Object(f.jsxs)("div",{className:"flex justify-center items-center",children:[Object(f.jsx)("label",{className:"mr-2",children:"Don't have an account?"}),Object(f.jsx)(m.b,{className:"text-blue-500 transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",to:"./Register",children:"Create an account!"})]})})]})]})})]})})}}]),s}(n.Component),O=g,N=s(20),v=function(){function e(t,s,n,r,a){Object(d.a)(this,e),this.firstName=t,this.lastName=s,this.userName=n,this.friends=[],this.transactions=[],this.requests=[],this.sentRequests=[],this.sentFriendRequests=[],this.friendRequests=[],this.currentAccountBalance=r,this.walletAddress=a,this.profilePicture="/images/pfDefault.png"}return Object(u.a)(e,[{key:"requestMoney",value:function(){}},{key:"sendMoney",value:function(){}},{key:"approveRequest",value:function(){}},{key:"checkBalance",value:function(){return this.currentAccountBalance}},{key:"addWalletaddress",value:function(){}}]),e}(),w=s(11),y=function(){function e(t,s,n,r){Object(d.a)(this,e),this.originUser=t,this.destinationUser=s,this.amount=n,this.date=r,this.id=Object(w.uuid)()}return Object(u.a)(e,[{key:"acceptRequest",value:function(){return 1}},{key:"cancelRequest",value:function(){return 1}}]),e}(),S=function e(t,s,n,r,a){Object(d.a)(this,e),this.originUser=t,this.destinationUser=s,this.amount=n,this.date=r,this.time=a,this.id=Object(w.uuid)()},C=function e(t,s,n,r,a){Object(d.a)(this,e),this.submitter=t,this.reportedUser=s,this.reason=n,this.date=r,this.time=a,this.id=Object(w.uuid)(),this.resolvedComment=""},R=function e(){var t,s=this;Object(d.a)(this,e),this.addUser=function(e,t,n,r){console.log(s.loginDB);var a={firstName:e,lastName:t,walletAddress:"",username:n,friends:[]},i=new Request("/api/Users",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(i).then((function(e){200===e.status?console.log("Added new User"):console.log("Could not add user")})).catch((function(e){console.log(e)}));var c=Object(w.uuid)();s.loginDB[n]=r,s.tokenDB[n]=c,s.userDB[[c]]=new v(e,t,n,0,""),console.log(s.loginDB)},this.u1=Object(w.uuid)(),this.u2=Object(w.uuid)(),this.u3=Object(w.uuid)(),this.u4=Object(w.uuid)(),this.adminID=Object(w.uuid)(),this.user1=new v("firstName","lastName","user",1001,Object(w.uuid)()),this.user2=new v("firstName2","lastName2","user2",2002,Object(w.uuid)()),this.user3=new v("firstName3","lastName3","user3",3003,Object(w.uuid)()),this.user4=new v("firstName4","lastName4","user4",4004,Object(w.uuid)()),this.user5=new v("firstName5","lastName5","user5",5005,Object(w.uuid)()),this.user6=new v("firstName6","lastName6","user6",6006,Object(w.uuid)()),this.user7=new v("firstName7","lastName7","user7",7007,Object(w.uuid)()),this.user8=new v("firstName8","lastName8","user8",8e3,Object(w.uuid)()),this.user9=new v("firstName9","lastName9","user9",9e3,Object(w.uuid)()),this.user10=new v("firstName10","lastName10","user10",10006,Object(w.uuid)()),this.admin=new x("adminFirst","adminLast"),this.loginDB={user:"user",user2:"user2",user3:"user3",user4:"user4",admin:"admin"},this.tokenDB={user:this.u1,user2:this.u2,user3:this.u3,user4:this.u4,admin:this.adminID},this.userDB=(t={},Object(N.a)(t,this.u1,this.user1),Object(N.a)(t,this.u2,this.user2),Object(N.a)(t,this.u3,this.user3),Object(N.a)(t,this.u4,this.user4),Object(N.a)(t,this.adminID,this.admin),t),this.reports=[],this.resolvedReports=[],this.transactions=[],this.moneyRequests=[],this.users=[this.user1,this.user2,this.user3,this.user4,this.user5,this.user6,this.user7,this.user8,this.user9,this.user10],this.user1.profilePicture="/images/pf1.jpeg",this.user2.profilePicture="/images/pf2.jpeg",this.user3.profilePicture="/images/pf3.jpeg",this.user4.profilePicture="/images/pf4.jpeg",this.reports.push(new C(this.user1,this.user4,"Spammed me with multiple money requests for no reason","10-01-2021","20:00")),this.reports.push(new C(this.user2,this.user4,"Sent me money for no reason","10-02-2021","12:00")),this.reports.push(new C(this.user3,this.user4,"Tried to scam me","10-03-2021","8:00")),this.tr1=new S(this.user1,this.user2,100,"9-02-2021","13:20"),this.tr2=new S(this.user1,this.user2,102,"9-14-2021","14:20"),this.tr3=new S(this.user1,this.user2,103,"9-17-2021","9:20"),this.tr4=new S(this.user1,this.user3,100,"9-18-2021","13:20"),this.tr5=new S(this.user1,this.user3,102,"9-19-2021","14:20"),this.tr6=new S(this.user1,this.user3,103,"9-20-2021","9:20"),this.tr7=new S(this.user2,this.user1,100,"9-21-2021","13:20"),this.tr8=new S(this.user2,this.user1,100,"9-22-2021","13:20"),this.tr9=new S(this.user2,this.user1,100,"9-23-2021","13:20"),this.mr1=new y(this.user1,this.user2,100,"10-01-2021"),this.mr2=new y(this.user1,this.user3,100,"10-02-2021"),this.mr3=new y(this.user2,this.user1,200,"10-01-2021"),this.mr4=new y(this.user3,this.user1,30,"10-02-2021"),this.mr5=new y(this.user3,this.user1,300,"10-01-2021"),this.mr6=new y(this.user1,this.user4,200,"10-03-2021"),this.user1.sentRequests.push(this.mr1),this.user2.sentRequests.push(this.mr2),this.user1.requests.push(this.mr3),this.user1.requests.push(this.mr4),this.user1.requests.push(this.mr5),this.user1.sentRequests.push(this.mr6),this.moneyRequests.push(this.mr1),this.moneyRequests.push(this.mr2),this.moneyRequests.push(this.mr3),this.moneyRequests.push(this.mr4),this.moneyRequests.push(this.mr5),this.moneyRequests.push(this.mr6),this.transactions.push(this.tr1),this.transactions.push(this.tr2),this.transactions.push(this.tr3),this.transactions.push(this.tr4),this.transactions.push(this.tr5),this.transactions.push(this.tr6),this.transactions.push(this.tr7),this.transactions.push(this.tr8),this.transactions.push(this.tr9),this.transactions.push(new S(this.user2,this.user3,193,"7-11-2021","7:20")),this.transactions.push(new S(this.user2,this.user1,123,"5-11-2021","8:05")),this.transactions.push(new S(this.user2,this.user4,2003,"7-15-2021","15:09")),this.transactions.push(new S(this.user2,this.user1,3,"4-30-2021","16:08")),this.transactions.push(new S(this.user2,this.user4,21,"4-18-2021","1:20")),this.transactions.push(new S(this.user2,this.user3,900,"5-17-2021","6:50")),this.transactions.push(new S(this.user3,this.user4,193,"7-11-2021","7:20")),this.transactions.push(new S(this.user3,this.user1,123,"5-11-2021","8:05")),this.transactions.push(new S(this.user3,this.user4,2003,"7-15-2021","15:09")),this.transactions.push(new S(this.user3,this.user1,3,"4-30-2021","16:08")),this.transactions.push(new S(this.user3,this.user2,21,"4-18-2021","1:20")),this.transactions.push(new S(this.user3,this.user4,900,"5-17-2021","6:50")),this.transactions.push(new S(this.user4,this.user3,193,"7-11-2021","7:20")),this.transactions.push(new S(this.user4,this.user1,123,"5-11-2021","8:05")),this.transactions.push(new S(this.user4,this.user1,2003,"7-15-2021","15:09")),this.transactions.push(new S(this.user4,this.user1,3,"4-30-2021","16:08")),this.transactions.push(new S(this.user4,this.user2,21,"4-18-2021","1:20")),this.transactions.push(new S(this.user4,this.user3,900,"5-17-2021","6:50")),this.user1.friends.push(this.user2),this.user1.friends.push(this.user3),this.user1.friendRequests.push(this.user4,this.user5,this.user6),this.user1.sentFriendRequests.push(this.user7,this.user8,this.user9)},k=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={firstName:"",lastName:"",userName:"",email:"",password:"",rePassword:"",passwordCheck:"true",failedAttempt:!1,loginDB:{user:"user",user2:"user2",user3:"user3",user4:"user4",admin:"admin"},redirectUser:!1},n.handleUsernameChange=n.handleUsernameChange.bind(Object(p.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(p.a)(n)),n.handleFirstNameChange=n.handleFirstNameChange.bind(Object(p.a)(n)),n.handleLastNameChange=n.handleLastNameChange.bind(Object(p.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(p.a)(n)),n.handleRePasswordChange=n.handleRePasswordChange.bind(Object(p.a)(n)),n.handleLogin=n.handleLogin.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"handleRePasswordChange",value:function(e){this.setState({rePassword:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleFirstNameChange",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastNameChange",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleUsernameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){return this.state.password!=this.state.rePassword?(console.log("bad password"),void this.setState({failedAttempt:!0})):(this.props.backend.addUser(this.state.firstName,this.state.lastName,this.state.userName,this.state.password),this.setState({redirectUser:!0}),void console.log(this.props.backend.loginDB))}},{key:"render",value:function(){return this.state.redirectUser?Object(f.jsx)(j.a,{push:!0,to:"/"}):Object(f.jsx)("div",{className:"font-sans",children:Object(f.jsx)("div",{className:"relative min-h-screen flex flex-col sm:justify-center items-center bg-grey",children:Object(f.jsx)("div",{className:"relative sm:max-w-sm w-full",children:Object(f.jsxs)("div",{className:"relative w-full rounded-3xl  px-6 py-4 bg-white shadow-md border",children:[Object(f.jsx)("label",{className:"block mt-3 text-2xl text-gray-700 text-center font-semibold",children:"Register"}),Object(f.jsxs)("form",{onSubmit:this.handleLogin,className:"mt-10",children:[Object(f.jsxs)("div",{className:"flex gap-4",children:[Object(f.jsx)("div",{className:"",children:Object(f.jsx)("input",{value:this.state.firstName,onChange:this.handleFirstNameChange,placeholder:"First Name",className:"mt-1 w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none flex pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)("input",{value:this.state.lastName,onChange:this.handleLastNameChange,placeholder:"Last Name",className:"mt-1 w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})})]}),Object(f.jsx)("div",{className:"mt-5",children:Object(f.jsx)("input",{value:this.state.userName,onChange:this.handleUsernameChange,placeholder:"Username",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("div",{className:"mt-5",children:Object(f.jsx)("input",{value:this.state.email,onChange:this.handleEmailChange,type:"email",placeholder:"Email",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("div",{className:"mt-5",children:Object(f.jsx)("input",{value:this.state.password,onChange:this.handlePasswordChange,type:"password",placeholder:"Password",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("div",{className:"mt-5",children:Object(f.jsx)("input",{value:this.state.rePassword,onChange:this.handleRePasswordChange,type:"password",placeholder:"Reenter Password",className:"mt-1 block w-full bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0 outline-none pl-5 "+(this.state.failedAttempt?"border-red-500 border":"border-none")})}),Object(f.jsx)("label",{className:"text-red-500 "+(this.state.failedAttempt?"":"hidden"),children:"That username or password is incorrect."}),Object(f.jsxs)("div",{className:"mt-7 flex hidden",children:[Object(f.jsxs)("label",{htmlFor:"remember_me",className:"inline-flex items-center w-full cursor-pointer",children:[Object(f.jsx)("input",{id:"remember_me",type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 outline-none",name:"remember"}),Object(f.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),Object(f.jsx)("div",{className:"w-full text-right",children:Object(f.jsx)("a",{className:"underline text-sm text-gray-600 hover:text-gray-900",href:"#",children:"forgot password?"})})]}),Object(f.jsx)("div",{className:"mt-7",children:Object(f.jsx)("input",{type:"submit",value:"Register",className:"bg-green-500 w-full py-3 rounded-xl text-white shadow-xl hover:shadow-inner focus:outline-none transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105"})})]})]})})})})}}]),s}(n.Component),F=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleSend=function(){var e=n.state.balance-n.state.amount;console.log(e),n.setState({balance:e}),n.props.changeUserBalance(e)},n.userFilter=function(e){var t=e.target.value,s=n.state.allUsers.filter((function(e){return e.userName.includes(t)&&""!==t}));n.setState({usersFound:s,searchContent:t})},n.state={allUsers:n.props.backend.users,usersFound:[],userNameToSearch:"",friends:n.props.currentUser.friends,showFriendPopUp:!1,selectedFriend:null,showAddFriends:!1,searchContent:"",amount:"",balance:n.props.currentUser.currentAccountBalance},n}return Object(u.a)(s,[{key:"friendPop",value:function(e){this.setState({selectedFriend:e,showFriendPopUp:!0})}},{key:"amountValidation",value:function(e){var t=e.target.value;this.setState({amount:t})}},{key:"render",value:function(){var e=this,t=this.props,s=t.global,n=t.changeSentFriendRequests;return Object(f.jsxs)("div",{className:"w-full flex flex-row ",children:[this.state.showFriendPopUp?Object(f.jsxs)("div",{className:" bg-white rounded md:w-1/3 w-2/3 border shadow-lg fixed z-100 left-1/3 top-1/3 ",children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){e.setState({showFriendPopUp:!1})},children:Object(f.jsx)("p",{children:" X "})})}),Object(f.jsxs)("div",{className:"flex items-center px-4 py-3 border-b hover:bg-gray-100",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:this.state.selectedFriend.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsx)("span",{className:"font-bold block",children:this.state.selectedFriend.userName}),Object(f.jsx)("span",{children:this.state.selectedFriend.firstName})," ",Object(f.jsx)("span",{children:this.state.selectedFriend.lastName})]}),Object(f.jsxs)("div",{className:" text-center flex flex-col",children:[Object(f.jsx)("input",{className:"ml-5 w-44 pl-2",type:"text",value:this.state.amount,onChange:function(t){e.setState({amount:t.target.value})},placeholder:"Amount to send/request"}),Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white",onClick:function(){return e.handleSend()},children:"Send"}),Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white",children:"Request"})]})]})]})]}):null,this.state.showAddFriends?Object(f.jsxs)("div",{className:"bg-transparent rounded md:w-1/3 w-1/3 border shadow-lg fixed z-100 left-1/3 top-1/4",children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("input",{className:"rounded-full py-3 px-6 w-full",value:this.state.searchContent,onChange:this.userFilter,type:"text",placeholder:"Search By User Name"}),Object(f.jsx)("button",{onClick:function(){e.setState({showAddFriends:!1})},children:Object(f.jsx)("span",{className:"font-bold",children:" \xa0\xa0X "})})]}),Object(f.jsx)("div",{className:"overflow-auto max-h-96 bg-white",children:this.state.usersFound.map((function(t){return Object(f.jsxs)("div",{className:"flex items-center px-4 py-3 border-b hover:bg-gray-100",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:t.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsx)("span",{className:"font-bold block",children:t.userName}),Object(f.jsx)("span",{children:t.firstName})," ",Object(f.jsx)("span",{children:t.lastName})]}),e.state.friends.includes(t)?null:Object(f.jsxs)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white",onClick:function(){var e=s.sentFriendRequests;e.includes(t)||e.push(t),n(e)},children:["Send Friend Request"," "]})]},Object(w.uuid)())}))})]}):null,Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"font-bold",children:Object(f.jsx)("span",{className:"",children:"Friend List"})}),Object(f.jsx)("div",{className:"bg-transparent w-full",children:this.state.friends.map((function(t){return Object(f.jsxs)("div",{className:"flex items-center px-4 py-3 border-b   hover:bg-gray-100",onClick:function(){return e.friendPop(t)},children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:t.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsx)("span",{className:"font-bold block",children:t.userName}),Object(f.jsx)("span",{children:t.firstName})," ",Object(f.jsx)("span",{children:t.lastName})]})]})}))})]}),Object(f.jsx)("div",{className:"absolute bottom-0 flex flex-auto w-2/12",children:Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white w-full",onClick:function(){e.setState({showAddFriends:!0})},children:Object(f.jsx)("span",{children:"Add New Friend"})})})]})}}]),s}(n.Component),U=(n.Component,function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).acceptRequest=function(e){var t=n.props.global.incomingFriendRequests.filter((function(t){return t!==e})),s=n.props.global.friendsList;s.push(e),n.props.changeIncomingFriendRequests(t),n.props.changeFriendsList(s)},n.deleteRequest=function(e){var t=n.props.global.incomingFriendRequests.filter((function(t){return t!==e}));n.props.changeIncomingFriendRequests(t)},n.state={showIncomingFriendRequests:!1},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props.global;return Object(f.jsx)("div",{className:"font-sans",children:Object(f.jsx)("div",{className:"bg-gray-600 py-4 flex flex-row",children:Object(f.jsx)("div",{className:"ml-auto",children:Object(f.jsxs)("div",{className:"relative inline-block mr-6",children:[Object(f.jsx)("svg",{onClick:function(){return e.setState({showIncomingFriendRequests:!e.state.showIncomingFriendRequests})},xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",children:Object(f.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})}),Object(f.jsx)("span",{className:"flex absolute -top-2.5 -right-2 h-4 w-4 bg-red-500 rounded-full items-center justify-center text-xs "+(t.incomingFriendRequests.length>0?"animate-small-slow-ping":"hidden"),children:t.incomingFriendRequests.length}),Object(f.jsx)("div",{className:"absolute right-0 mt-2 bg-white rounded-md shadow-lg overflow-hidden z-20 w-96",children:this.state.showIncomingFriendRequests&&t.incomingFriendRequests.length?Object(f.jsx)("div",{className:"py-2",children:t.incomingFriendRequests.map((function(t){return Object(f.jsxs)("div",{className:"flex items-center px-4 py-3 border-b mx-2 bg-gray-100 rounded-xl shadow-lg my-1.5",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:t.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsx)("span",{className:"font-bold block",children:t.userName}),Object(f.jsx)("span",{children:t.firstName})," ",Object(f.jsx)("span",{children:t.lastName})]}),Object(f.jsxs)("div",{className:"ml-auto text-xs",children:[Object(f.jsx)("button",{onClick:function(){return e.acceptRequest(t)},className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white shadow-lg",children:"Confirm"}),Object(f.jsx)("button",{onClick:function(){return e.deleteRequest(t)},className:"mx-1 px-2 py-1 bg-gray-200 rounded-3xl shadow-lg",children:"Delete"})]})]})}))}):null})]})})})})}}]),s}(n.Component)),q=(n.Component,function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={currentUser:n.props.request.destinationUser,balance:n.props.request.destinationUser.currentAccountBalance,incomingMoneyRequests:n.props.request.destinationUser.requests},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.request;t.acceptRequest,t.cancel,t.user;return Object(f.jsxs)("div",{className:"bg-white rounded-xl md:w-1/3 w-1/2 shadow-3xl fixed z-100 left-1/4 top-1/3 border border-black",children:[Object(f.jsx)("div",{className:"relative py-3 px-2 item-center text-center ",children:Object(f.jsx)("span",{className:"font-semibold text-black md:text-base text-sm",children:"Confirmation of Money Transfer"})}),Object(f.jsxs)("div",{className:"bg-white md:text-base text-sm p-2 h-48",children:[Object(f.jsxs)("div",{className:"text-center",children:["Are you sure you want to send ",s.originUser.userName," (",s.originUser.firstName,", ",s.originUser.lastName,") $",Object(f.jsx)("strong",{className:"text-green-700",children:s.amount}),"? This transaction ",Object(f.jsx)("b",{children:"cannot"})," be undone"]}),Object(f.jsxs)("div",{className:"w-1/1 mt-2 text-center",children:[Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl shadow-lg text-white",onClick:function(){return e.props.acceptRequest(s.amount,s)},children:"Yes"}),Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-red-500 rounded-3xl shadow-lg text-white",onClick:function(){return e.props.minimizeSend()},children:"No, cancel transaction"})]})]})]})}}]),s}(n.Component)),D=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).sendPopOn=function(){n.setState({sendOpen:!0})},n.sendPopOff=function(){n.setState({sendOpen:!1})},n.handleAccept=function(e,t){var s=n.props.global.incomingMoneyRequests.filter((function(e){return e!==t})),r=n.props.global.userBalance-e;n.setState({balance:r},n.setState({incomingRequests:s})),n.props.changeIncomingMoneyRequests(s),n.props.changeUserBalance(r)},n.handleReject=function(e){var t=n.props.global.incomingMoneyRequests.filter((function(t){return t!==e}));n.setState({incomingRequests:t}),n.props.changeIncomingMoneyRequests(t)},n.state={incomingRequests:n.props.user.requests,balance:n.props.global.userBalance,user:n.props.user},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.request,n=t.user;t.global,t.balance,t.changeIncomingMoneyRequests,t.changeUserBalance;return Object(f.jsxs)("div",{className:"h-12 flex items-center px-4 py-3 border-b bg-gray-100 rounded-xl shadow-md my-2",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:s.originUser.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsxs)("span",{className:"font-bold block",children:[Object(f.jsxs)("strong",{className:"uppercase",children:["(",s.originUser.userName,") "]}),Object(f.jsx)("span",{children:s.originUser.firstName})," ",Object(f.jsx)("span",{children:s.originUser.lastName})]}),Object(f.jsxs)("div",{className:"px-1 float-left font-light",children:[Object(f.jsx)("strong",{children:"Amount:"}),s.amount," "]}),Object(f.jsxs)("div",{className:"px-1 font-light float-right",children:[" ","Sent on ",s.date," "]})]}),Object(f.jsxs)("div",{className:"ml-auto text-xs",children:[Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-blue-500 rounded-3xl text-white shadow-lg",onClick:this.sendPopOn,children:"Accept"}),Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-red-500 rounded-3xl text-white shadow-lg",onClick:function(){return e.handleReject(s)},children:"Reject"})]}),this.state.sendOpen?Object(f.jsx)(q,{className:"rounded-xl",request:s,user:n,acceptRequest:this.handleAccept,minimizeSend:this.sendPopOff}):null]})}}]),s}(n.Component),A=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleRescind=function(e){var t=n.props.global.sentMoneyRequests.filter((function(t){return t!==e}));n.setState({incomingRequests:t}),n.props.changeOutgoingMoneyRequests(t)},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.request;t.changeOutgoingMoneyRequests,t.global;return Object(f.jsxs)("div",{className:"h-12 flex items-center px-4 py-3 border-b bg-gray-100 rounded-xl shadow-md my-2",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:s.originUser.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsxs)("span",{className:"font-bold block",children:[Object(f.jsxs)("strong",{className:"uppercase",children:["(",s.originUser.userName,") "]}),Object(f.jsx)("span",{children:s.originUser.firstName})," ",Object(f.jsx)("span",{children:s.originUser.lastName})]}),Object(f.jsxs)("div",{className:"px-1 float-left font-light",children:[Object(f.jsx)("strong",{children:"Amount:"}),s.amount," "]}),Object(f.jsxs)("div",{className:"px-1 font-light float-right",children:[" ","Sent on ",s.date," "]})]}),Object(f.jsx)("div",{className:"ml-auto text-xs",children:Object(f.jsx)("button",{className:"mx-1 px-2 py-1 bg-red-500 rounded-3xl text-white shadow-lg",onClick:function(){return e.handleRescind(s)},children:"Rescind"})})]})}}]),s}(n.Component),P=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={filterDestination:"",filterAmount:"",filterDate:"",filterTime:"",filterID:"",transactions:n.props.global.transactions,masterTransactions:n.props.global.transactions},n.filterDestinationChange=n.filterDestinationChange.bind(Object(p.a)(n)),n.filterAmountChange=n.filterAmountChange.bind(Object(p.a)(n)),n.filterDateChange=n.filterDateChange.bind(Object(p.a)(n)),n.filterTimeChange=n.filterTimeChange.bind(Object(p.a)(n)),n.filterIDChange=n.filterIDChange.bind(Object(p.a)(n)),n.filter=n.filter.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.filter()}},{key:"filter",value:function(){var e=this,t=this.state.masterTransactions.filter((function(t){return t.originUser.userName.toString()===e.props.global.userName.toString()&&(t.destinationUser.userName.toString().includes(e.state.filterDestination.toString())||""==e.state.filterDestination)&&(t.amount.toString()==e.state.filterAmount.toString()||""===e.state.filterAmount)&&(t.date.toString().includes(e.state.filterDate.toString())||""===e.state.filterDate)&&(t.time.toString()==e.state.filterTime.toString()||""===e.state.filterTime)&&(t.id.toString().includes(e.state.filterID.toString())||""===e.state.filterID)}));this.setState({transactions:t},(function(){return console.log(e.state.transactions)}))}},{key:"filterDestinationChange",value:function(e){var t=this;this.setState({filterDestination:e.target.value},(function(){t.filter()}))}},{key:"filterAmountChange",value:function(e){var t=this;this.setState({filterAmount:e.target.value},(function(){t.filter()}))}},{key:"filterDateChange",value:function(e){var t=this;this.setState({filterDate:e.target.value.toString()},(function(){t.filter()}))}},{key:"filterTimeChange",value:function(e){var t=this;this.setState({filterTime:e.target.value},(function(){t.filter()}))}},{key:"filterIDChange",value:function(e){var t=this;this.setState({filterID:e.target.value},(function(){t.filter()}))}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"font-sans font-light shadow-2xl",children:[Object(f.jsx)("div",{className:"text-center text-3xl py-4",children:"TRANSACTIONS"}),Object(f.jsxs)("table",{className:"table-auto w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Destination",Object(f.jsx)("input",{value:this.filterDestination,onChange:this.filterDestinationChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Amount",Object(f.jsx)("input",{value:this.filterAmount,onChange:this.filterAmountChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Date",Object(f.jsx)("input",{value:this.filterDate,onChange:this.filterDateChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Time",Object(f.jsx)("input",{value:this.filterTime,onChange:this.filterTimeChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["ID",Object(f.jsx)("input",{value:this.filterID,onChange:this.filterIDChange,className:"block self-center border rounded-md m-auto"})]})]})}),Object(f.jsx)("tbody",{children:this.state.transactions.map((function(e){return Object(f.jsxs)("tr",{className:"border",children:[Object(f.jsx)("td",{className:"border px-4 py-2 text-center",children:e.destinationUser.userName.toString()}),Object(f.jsx)("td",{className:"border px-4 py-2 text-center",children:"$"+e.amount.toString()}),Object(f.jsx)("td",{className:"border px-4 py-2 text-center",children:e.date.toString()}),Object(f.jsx)("td",{className:"border px-4 py-2 text-center",children:e.time.toString()}),Object(f.jsx)("td",{className:"border px-4 py-2 text-center",children:e.id.toString()})]},e.id)}))})]})]})}}]),s}(n.Component),L=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleAccept=function(e){var t=n.state.userFriends;t.push(e);var s=n.state.userFriendRequests.filter((function(t){return t!==e}));n.setState({userFriends:t},n.setState({userFriendRequests:s})),n.props.changeFriendsList(t),n.props.changeIncomingFriendRequests(s)},n.handleReject=function(e){var t=n.state.userFriendRequests.filter((function(t){return t!==e}));n.setState({userFriendRequests:t})},n.handleRescind=function(e){var t=n.props.global.sentFriendRequests.filter((function(t){return t!==e}));n.props.changeSentFriendRequests(t)},n.sendPopOn=function(){n.setState({sendOpen:!0})},n.sendPopOff=function(){n.setState({sendOpen:!1})},n.state={user:n.props.currentUser,userFriends:n.props.currentUser.friends,userFriendRequests:n.props.currentUser.friendRequests,userSentRequests:n.props.currentUser.sentFriendRequests,userMoneyRequests:n.props.currentUser.requests,userSentMoneyRequests:n.props.currentUser.sentRequests,sendOpen:!1},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.global;t.changeOutgoingMoneyRequests,t.changeIncomingMoneyRequests,t.changeUserBalance;return Object(f.jsxs)("div",{className:"relative h-full bg-white flex flex-col",children:[Object(f.jsxs)("div",{className:"bg-white rounded-xl w-auto bg-color m-4 flex flex-col shadow-2xl",children:[Object(f.jsx)("div",{className:"font-sans text-black text-xl font-light  tracking-widest text-center",children:"OUTGOING FRIEND REQUESTS"}),Object(f.jsx)("div",{className:"overflow-y-scroll bg-white rounded-xl mx-5 my-4.5 "+(s.sentFriendRequests.length>0?"h-32":""),children:s.sentFriendRequests.map((function(t){return Object(f.jsxs)("div",{className:"h-12 flex items-center px-4 py-3 border-b bg-gray-100 rounded-xl shadow-md my-2",children:[Object(f.jsx)("img",{className:"h-8 w-8 rounded-full object-cover mx-1",src:t.profilePicture}),Object(f.jsxs)("p",{className:"text-gray-600 text-sm mx-2",children:[Object(f.jsx)("span",{className:"font-bold block",children:t.userName}),Object(f.jsx)("span",{children:t.firstName})," ",Object(f.jsx)("span",{children:t.lastName})]}),Object(f.jsx)("div",{className:"ml-auto text-xs",children:Object(f.jsx)("button",{onClick:function(){return e.handleRescind(t)},className:"mx-1 px-2 py-1 bg-red-500 rounded-3xl text-white shadow-lg",children:"Cancel Request"})})]},Object(w.uuid)())}))})]}),Object(f.jsxs)("div",{className:"bg-white rounded-xl w-auto bg-color m-4 flex flex-row shadow-2xl",children:[Object(f.jsxs)("div",{className:"overflow-y-auto rounded-xl my-4 mx-2 w-full",children:[Object(f.jsx)("div",{className:"font-sans text-black text-xl font-light tracking-widest text-center ",children:"INCOMING MONEY REQUESTS"}),Object(f.jsx)("div",{className:"bg-white rorounded-xl",children:this.props.global.incomingMoneyRequests.map((function(t){return Object(f.jsx)(D,{request:t,user:e.state.user,global:e.props.global,balance:e.props.currentUser.currentAccountBalance,changeIncomingMoneyRequests:e.props.changeIncomingMoneyRequests,changeUserBalance:e.props.changeUserBalance},Object(w.uuid)())}))})]}),Object(f.jsxs)("div",{className:" overflow-y-auto rounded-xl my-4 mx-2 w-full",children:[Object(f.jsx)("div",{className:"font-sans text-black text-xl font-light tracking-widest text-center",children:"OUTGOING MONEY REQUESTS"}),s.sentMoneyRequests.map((function(t){return Object(f.jsx)(A,{request:t,global:e.props.global,changeOutgoingMoneyRequests:e.props.changeOutgoingMoneyRequests},Object(w.uuid)())}))]})]}),Object(f.jsx)("div",{className:"bg-white rounded-xl shadow-2xl m-4",children:Object(f.jsx)(P,{global:this.props.global})})]})}}]),s}(n.Component),M=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).minimizePopUp=function(){n.props.minimizeSend()},n.maxmizePopUp=function(){n.props.maximizeSend()},n.setMoneyReceiver=function(e){n.setState({moneyReceiver:e.target.value},n.setFilteredFriends)},n.setFilteredFriends=function(){""===n.state.moneyReceiver?n.setState({showResults:!1},n.setState({filteredFriends:[]})):n.setState({filteredFriends:n.state.userFriends.filter((function(e){return e.userName.toString().includes(n.state.moneyReceiver.toString())}))},n.setState({showResults:!0}))},n.pasteOption=function(e){console.log(e.target.value),n.setState({showResults:!1},n.setState({filteredFriends:[]},n.setState({moneyReceiver:e.target.value},n.setState({nameFilled:!0}))))},n.state={amount:"",moneyReceiver:"",validAmount:!1,currentUser:n.props.currentUser,userFriends:n.props.friendsList,filteredFriends:n.props.friendsList,showResults:!1,nameFilled:!1},n.amountValidation=n.amountValidation.bind(Object(p.a)(n)),n.sendMoney=n.sendMoney.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"amountValidation",value:function(e){var t=e.target.value;isNaN(+t)||this.setState({amount:t},this.setState({validAmount:!0}))}},{key:"sendMoney",value:function(){this.state.validAmount&&this.state.nameFilled&&(this.props.updateBalance(this.state.amount),this.props.minimizeSend())}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"bg-white rounded md:w-1/3 w-1/2 h-1/1 border shadow-lg fixed z-100 left-1/4 top-1/3 ",children:[Object(f.jsx)("div",{className:"rounded-t bg-blue-300 text-black",children:Object(f.jsx)("div",{className:"relative py-3 px-2 flex",children:Object(f.jsx)("span",{className:"font-semibold text-black md:text-base text-sm",children:"Send Money"})})}),Object(f.jsxs)("div",{className:"bg-gray-200 md:text-base text-sm border-b p-2 h-48",children:[Object(f.jsxs)("div",{className:"h-2/3",children:[Object(f.jsxs)("div",{className:"h-1/3 mt-2",children:["Friend:",Object(f.jsx)("input",{className:"ml-8 w-44 pl-2",value:this.state.moneyReceiver,onChange:this.setMoneyReceiver,placeholder:"Friend"}),this.state.showResults?Object(f.jsx)("div",{className:"ml-20 w-44 pl-1 opacity-100 bg-white absolute",children:Object(f.jsx)("ul",{className:"",children:this.state.filteredFriends.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:e.pasteOption,value:t.userName,children:t.userName})})}))})}):null]}),Object(f.jsx)("div",{className:"h-1/3",children:Object(f.jsx)("form",{children:Object(f.jsxs)("label",{children:["Amount:",Object(f.jsx)("input",{className:"ml-5 w-44 pl-2",type:"text",value:this.state.amount,onChange:this.amountValidation,placeholder:"Amount"})]})})})]}),Object(f.jsxs)("div",{className:"w-1/1 mt-2 text-right",children:[Object(f.jsx)("button",{className:"bg-green-500 hover:bg-green-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.sendMoney,children:Object(f.jsx)("b",{children:"Send"})}),Object(f.jsx)("button",{className:"ml-1 bg-red-500 hover:bg-red-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.minimizePopUp,children:Object(f.jsx)("b",{children:"Cancel"})})]})]})]})}}]),s}(n.Component),T=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).minimizePopUp=function(){n.props.minimizeSend()},n.maxmizePopUp=function(){n.props.maximizeSend()},n.setRequestReceiver=function(e){n.setState({requestReceiver:e.target.value},n.setFilteredFriends)},n.setFilteredFriends=function(){""===n.state.requestReceiver?n.setState({showResults:!1},n.setState({filteredFriends:[]})):n.setState({filteredFriends:n.state.userFriends.filter((function(e){return e.userName.toString().includes(n.state.requestReceiver.toString())}))},n.setState({showResults:!0}))},n.pasteOption=function(e){console.log(e.target.value),n.setState({showResults:!1},n.setState({filteredFriends:[]},n.setState({requestReceiver:e.target.value},n.setState({nameFilled:!0}))))},n.handleClick=function(){n.props.toggle()},n.state={amount:"",requestReceiver:"",validAmount:!1,currentUser:n.props.currentUser,userFriends:n.props.global.friendsList,filteredFriends:n.props.global.friendsList,sentRequests:n.props.global.sentMoneyRequests,showResults:!1,nameFilled:!1},n.amountValidation=n.amountValidation.bind(Object(p.a)(n)),n.sendRequest=n.sendRequest.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"amountValidation",value:function(e){var t=e.target.value;isNaN(+t)||this.setState({amount:t},this.setState({validAmount:!0}))}},{key:"sendRequest",value:function(){var e=this;if(this.state.validAmount&&this.state.nameFilled){var t=this.props.global.friendsList.filter((function(t){return t.userName===e.state.requestReceiver}))[0],s=this.props.global.sentMoneyRequests,n=new y(this.state.currentUser,t,this.state.amount,"10-01-2021");s.push(n),this.setState({sentRequests:s}),this.props.changeSentMoneyRequests(s),this.props.minimizeSend()}}},{key:"render",value:function(){var e=this,t=this.props;t.global,t.changeSentMoneyRequests;return Object(f.jsx)("div",{className:"bg-white rounded md:w-1/3 w-1/2 border shadow-lg fixed z-100 left-1/4 top-1/3 ",children:Object(f.jsxs)("div",{className:"rounded-t bg-teal-500 text-black",children:[Object(f.jsx)("div",{className:"relative py-3 px-2 flex",children:Object(f.jsx)("span",{className:"font-semibold text-black md:text-base text-sm",children:"Request Money"})}),Object(f.jsxs)("div",{className:"bg-gray-200 md:text-base text-sm border-b p-2 h-48",children:[Object(f.jsxs)("div",{className:"h-2/3",children:[Object(f.jsxs)("div",{className:"h-1/3 mt-2",children:["Friend:",Object(f.jsx)("input",{className:"ml-8 w-44 pl-2",value:this.state.requestReceiver,onChange:this.setRequestReceiver,placeholder:"Friend"}),this.state.showResults?Object(f.jsx)("div",{className:"ml-20 w-44 pl-1 opacity-100 bg-white absolute",children:Object(f.jsx)("ul",{className:"",children:this.state.filteredFriends.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:e.pasteOption,value:t.userName,children:t.userName})})}))})}):null]}),Object(f.jsx)("div",{className:"h-1/3",children:Object(f.jsx)("form",{children:Object(f.jsxs)("label",{children:["Amount:",Object(f.jsx)("input",{className:"ml-5 w-44 pl-2",type:"text",value:this.state.amount,onChange:this.amountValidation,placeholder:"Amount"})]})})})]}),Object(f.jsxs)("div",{className:"w-1/1 mt-2 text-right",children:[Object(f.jsx)("button",{className:"bg-green-500 hover:bg-green-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.sendRequest,children:"Request"}),Object(f.jsx)("button",{className:"ml-1 bg-red-500 hover:bg-red-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.minimizePopUp,children:Object(f.jsx)("b",{children:"Cancel"})})]})]})]})})}}]),s}(n.Component),B=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).minimizePopUp=function(){n.props.minimizeSplit()},n.maxmizePopUp=function(){n.props.maximizeSplit()},n.pasteOption=function(e,t){n.setState(n.setState({filteredFriends:[]},n.setState({nameFilled:!0},n.setMoneyReceiver(e,t))),n.setShowResult(e,!1))},n.splitMoney=function(){var e=!1,t=Object.values(n.state.percentages).reduce((function(e,t){return e+t}),0);console.log(t),console.log(Object.keys(n.state.percentages).length),console.log(n.state.friendFieldLen),t<=100&&Object.values(n.state.percentages).length==n.state.friendFieldLen&&(e=!0),n.state.validAmount&&n.state.nameFilled&&e&&(n.props.updateBalance(n.state.amount*(100-t)/100),n.props.minimizeSplit())},n.amountValidation=function(e){var t=e.target.value;isNaN(+t)||n.setState({amount:t},n.setState({validAmount:!0}))},n.percentValidation=function(e,t){var s=+t.target.value;console.log(s),isNaN(s)||(n.state.percentages[e]=s,n.setState({percentages:n.state.percentages}))},n.setMoneyReceiver=function(e,t){var s=n.state.moneyReceiver;s[e]=t.target.value,n.setState({moneyReceiver:s},n.setFilteredFriends(e))},n.setShowResult=function(e,t){var s=n.state.showResults;s[e]=t,n.setState({showResults:s})},n.setFilteredFriends=function(e){""===n.state.moneyReceiver[e]?n.setState(n.setState({filteredFriends:[]},n.setShowResult(e,!1))):n.setState({filteredFriends:n.state.userFriends.filter((function(t){return t.userName.toString().includes(n.state.moneyReceiver[e].toString())}))},n.setShowResult(e,!0))},n.newFriendField=function(){var e=Object(w.uuid)(),t=n.state.friendFields;t[e]=Object(f.jsx)("li",{children:Object(f.jsxs)("div",{className:"h-1/3 mb-2 flex flex-row",children:[Object(f.jsxs)("div",{children:["Friend:",Object(f.jsx)("input",{className:"ml-8 w-44 pl-2",value:n.state.moneyReceiver[e],onChange:function(t){return n.setMoneyReceiver(e,t)},placeholder:"Friend"}),n.state.friendFieldLen>=0?Object(f.jsx)("button",{className:"mx-3 px-0.5 w-4 h-4",value:e,onClick:n.deleteFriendField,children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(f.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(f.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})]})}):null,n.state.showResults[e]?Object(f.jsx)("div",{className:"ml-20 w-44 opacity-100 bg-white absolute",children:Object(f.jsx)("ul",{className:"",children:n.state.filteredFriends.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:function(t){return n.pasteOption(e,t)},value:t.userName,children:t.userName})})}))})}):null]}),Object(f.jsxs)("div",{className:"mx-4",children:["Percent:",Object(f.jsx)("input",{className:"w-16 ml-2 pl-2",value:n.state.percentages[e],placeholder:"0.0",onChange:function(t){return n.percentValidation(e,t)}})]})]})},e);var s=n.state.showResults;s[e]=!0,n.setState({friendFields:t},n.setState({friendFieldLen:n.state.friendFieldLen+1},n.setState({showResults:s})))},n.deleteFriendField=function(e){var t=e.target.parentElement.parentElement.value;console.log("value: ",t);var s=n.state.friendFields;console.log(s),delete s[t],console.log(s),n.setState({friendFields:s})},n.state={amount:"",moneyReceiver:{},percentages:{},validAmount:!1,currentUser:n.props.currentUser,userFriends:n.props.currentUser.friends,filteredFriends:n.props.userFriends,showResults:{},nameFilled:!0,friendFields:{},friendFieldLen:0,addFriend:!0},n}return Object(u.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"flex flex-col bg-white rounded md:w-1/3 w-1/2 h-auto border shadow-lg fixed z-100 left-1/4 top-1/3 ",children:[Object(f.jsx)("div",{className:"rounded-t bg-blue-300 text-black",children:Object(f.jsx)("div",{className:"relative py-3 px-2 flex",children:Object(f.jsx)("span",{className:"font-semibold text-black md:text-base text-sm",children:"Split Money"})})}),Object(f.jsxs)("div",{className:"flex flex-col bg-gray-200 md:text-base text-sm border-b p-2 h-auto",children:[Object(f.jsxs)("div",{className:"flex flex-col h-2/3",children:[Object(f.jsx)("div",{className:"my-2 flex flex-col",on:!0,children:Object(f.jsx)("div",{children:Object(f.jsx)("ul",{children:Object.values(this.state.friendFields)})})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"mx-3 px-0.5 w-4 h-4",onClick:this.newFriendField,children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(f.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(f.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})]})})}),Object(f.jsx)("div",{className:"h-1/3",children:Object(f.jsx)("form",{children:Object(f.jsxs)("label",{children:["Amount:",Object(f.jsx)("input",{className:"ml-5 w-44 pl-2",type:"text",value:this.state.amount,onChange:this.amountValidation,placeholder:"Amount"})]})})})]}),Object(f.jsxs)("div",{className:"w-1/1 mt-2 text-right",children:[Object(f.jsx)("button",{className:"bg-green-500 hover:bg-green-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.splitMoney,children:Object(f.jsx)("b",{children:"Send"})}),Object(f.jsx)("button",{className:"ml-1 bg-red-500 hover:bg-red-300 text-black font-bold py-2 px-4 rounded-xl hover:border-blue rounded",onClick:this.minimizePopUp,children:Object(f.jsx)("b",{children:"Cancel"})})]})]})]})}}]),s}(n.Component),I=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).sendPopOn=function(){n.setState({sendOpen:!0})},n.sendPopOff=function(){n.setState({sendOpen:!1})},n.reqPop=function(){n.setState({requestOpen:!n.state.requestOpen})},n.reqPopOff=function(){n.setState({requestOpen:!1})},n.splitPopOn=function(){n.setState({splitOpen:!0})},n.splitPopOff=function(){n.setState({splitOpen:!1})},n.state={firstName:n.props.global.firstName,lastName:n.props.global.lastName,userName:n.props.global.userName,pf:n.props.global.profilePicture,balance:n.props.global.userBalance,currentUser:n.props.currentUser,sendOpen:!1,requestOpen:!1,splitOpen:!1},n.changeBalance=n.changeBalance.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"changeBalance",value:function(e){var t=this.props.global.userBalance-e;this.props.changeUserBalance(t)}},{key:"render",value:function(){this.props.changeSentMoneyRequests;return Object(f.jsxs)("div",{className:"flex flex-row h-1/5 bg-white mt-2 mb-2 rounded-xl shadow-2xl",children:[Object(f.jsx)("div",{className:"w-48 h-48 flex-shrink-0",children:Object(f.jsx)("img",{className:"shadow-2xl rounded-full h-2/3 w-2/3 m-4",src:this.state.pf,alt:"Profile Photo"})}),Object(f.jsxs)("div",{className:"text-left flex flex-col flex-shrink-0",children:[Object(f.jsx)("div",{className:"py-2 text-4xl",children:Object(f.jsx)("b",{children:this.props.global.userName})}),Object(f.jsxs)("div",{className:"py-2 text-2xl",children:[this.state.firstName," ",this.props.global.lastName]}),Object(f.jsxs)("div",{className:"py-2 text-xl",children:[Object(f.jsx)("b",{children:"Balance:"}),this.props.global.userBalance]})]}),Object(f.jsxs)("div",{className:"ml-auto px-10 my-1 text-white",children:[Object(f.jsx)("button",{className:"w-24 h-10 my-1 bg-blue-500 hover:bg-green-500 rounded-3xl shadow-lg",onClick:this.sendPopOn,children:"Send"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"w-24 h-10 my-1 bg-blue-500 rounded-3xl shadow-lg hover:bg-green-500",onClick:this.reqPop,children:"Request"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"w-24 h-10 my-1 bg-blue-500 rounded-3xl shadow-lg hover:bg-green-500",onClick:this.splitPopOn,children:"Split"})]}),this.state.sendOpen?Object(f.jsx)(M,{currentUser:this.state.currentUser,friendsList:this.props.global.friendsList,updateBalance:this.changeBalance,minimizeSend:this.sendPopOff,maximizeSend:this.sendPopOn}):null,this.state.requestOpen?Object(f.jsx)(T,{toggle:this.reqPop,friendsList:this.props.global.friendsList,minimizeSend:this.reqPopOff,maximizeSend:this.sendPopOn,changeSentMoneyRequests:this.props.changeSentMoneyRequests,global:this.props.global}):null,this.state.splitOpen?Object(f.jsx)(B,{currentUser:this.state.currentUser,minimizeSplit:this.splitPopOff,updateBalance:this.changeBalance,maximizeSplit:this.splitPopOn}):null]})}}]),s}(n.Component),E=s(38),z=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){n.setUpWeb3()},n.setUpWeb3=Object(o.a)(l.a.mark((function e(){var t,s,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new E.a.providers.Web3Provider(window.ethereum),s=t.getSigner(),e.next=4,s.getAddress();case 4:return r=e.sent,e.next=7,t.getBalance(r);case 7:a=e.sent,a=E.a.utils.formatEther(a),n.setState({provider:t,signer:s,wallet:r,userBalance:a});case 10:case"end":return e.stop()}}),e)}))),n.changeUserBalance=function(e){n.setState({userBalance:e})},n.changeUserName=function(e){n.setState({userName:e})},n.changeFirstName=function(e){n.setState({FirstName:e})},n.changeLastName=function(e){n.setState({LastName:e})},n.changeProfilePicture=function(e){n.setState({profilePicture:e})},n.changeFriendsList=function(e){n.setState({friendsList:e})},n.changeIncomingFriendRequests=function(e){n.setState({incomingFriendRequests:e})},n.changeSentFriendRequests=function(e){n.setState({sentFriendRequests:e})},n.changeIncomingMoneyRequests=function(e){n.setState({incomingMoneyRequests:e})},n.changeSentMoneyRequests=function(e){n.setState({sentMoneyRequests:e})},n.state={userBalance:n.props.currentUser.currentAccountBalance,userName:n.props.currentUser.userName,firstName:n.props.currentUser.firstName,lastName:n.props.currentUser.lastName,profilePicture:n.props.currentUser.profilePicture,friendsList:n.props.currentUser.friends,incomingFriendRequests:n.props.currentUser.friendRequests,sentFriendRequests:n.props.currentUser.sentFriendRequests,incomingMoneyRequests:n.props.currentUser.requests,sentMoneyRequests:n.props.currentUser.sentRequests,transactions:n.props.backend.transactions,provider:null,signer:null,wallet:null},n}return Object(u.a)(s,[{key:"render",value:function(){var e;this.props.currentUser;return Object(f.jsx)("div",{className:"font-serif",children:Object(f.jsxs)("div",{className:"flex flex-column h-100",children:[Object(f.jsxs)("div",{className:"w-10/12 h-screen flex-shrink-0",children:[Object(f.jsx)(U,{changeFriendsList:this.changeFriendsList,changeIncomingFriendRequests:this.changeIncomingFriendRequests,global:this.state}),Object(f.jsx)(I,{changeSentMoneyRequests:this.changeSentMoneyRequests,changeUserBalance:this.changeUserBalance,global:this.state,backend:this.props.backend,currentUser:this.props.currentUser}),Object(f.jsx)(L,{changeSentFriendRequests:this.changeSentFriendRequests,global:this.state,changeOutgoingMoneyRequests:this.changeSentMoneyRequests,changeIncomingMoneyRequests:this.changeIncomingMoneyRequests,changeUserBalance:this.changeUserBalance,changeFriendsList:this.changeFriendsList,changeIncomingFriendRequests:this.changeIncomingFriendRequests,backend:this.props.backend,currentUser:this.props.currentUser})]}),Object(f.jsx)(F,(e={changeUserBalance:this.changeUserBalance,global:this.state,changeSentMoneyRequests:this.changeSentMoneyRequests,className:"w-2/12 flex-shrink-0"},Object(N.a)(e,"global",this.state),Object(N.a)(e,"changeSentFriendRequests",this.changeSentFriendRequests),Object(N.a)(e,"backend",this.props.backend),Object(N.a)(e,"currentUser",this.props.currentUser),e))]})})}}]),s}(n.Component),W=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).setShowDeletePopup=function(){n.setState({showDeletePopup:!0},console.log(n.state.showDeletePopup))},n.deleteRequest=function(){var e=n.state.moneyRequests.filter((function(e){return e!==n.state.requestToDelete}));n.setState({moneyRequests:e},n.setState({showDeletePopup:!1}))},n.state={moneyRequests:n.props.moneyRequests,showDeletePopup:!1,requestToDelete:null},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"font-mono",children:[this.state.showDeletePopup?Object(f.jsx)("div",{className:"absolute z-100 bg-black shadow-lg border w-2/6 h-auto mx-auto left-0 right-0 top-1/4 rounded-lg bg-opacity-90 text-white",children:Object(f.jsxs)("div",{className:"relative px-4 backdrop-filter my-4",children:[Object(f.jsxs)("div",{className:"text-center",children:["Are you sure you want to delete"," ",Object(f.jsx)("b",{className:"text-red-500",children:this.state.requestToDelete.id})," ","This action cannot be undone!"]}),Object(f.jsxs)("div",{className:"text-center mt-5 text-black",children:[Object(f.jsx)("button",{className:"inline bg-red-500 rounded-xl px-2 py-1 mx-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(){return e.setState({showDeletePopup:!1})},children:"CANCEL"}),Object(f.jsx)("button",{onClick:function(){return e.deleteRequest()},className:"inline bg-green-500 rounded-xl px-2 py-1 mx-1 transform hover:scale-110 transition duration-500 ease-in-out",children:"DELETE"})]})]})}):null,Object(f.jsx)("div",{className:"border text-center text-3xl py-4",children:"MONEY REQUESTS"}),Object(f.jsxs)("table",{className:"table-auto w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Requestor"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Destination"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Amount"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Date"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"ID"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"DELETE"})]})}),Object(f.jsx)("tbody",{children:this.state.moneyRequests.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.originUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.destinationUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.amount.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.date.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.id.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:Object(f.jsx)("button",{className:" bg-red-500 border  rounded-2xl px-2 py-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(){return e.setState({requestToDelete:t},e.setShowDeletePopup)},children:"DELETE"})})]},t.id.toString())}))})]})]})}}]),s}(n.Component),V=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={reports:n.props.reports,resolvedReports:n.props.resolvedReports,showReportPopup:!1,reportToResolve:null,comment:""},n.resolveReport=n.resolveReport.bind(Object(p.a)(n)),n.updateComment=n.updateComment.bind(Object(p.a)(n)),n.showResolveReport=n.showResolveReport.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"updateComment",value:function(e){this.setState({comment:e.target.value},console.log(this.state.comment))}},{key:"showResolveReport",value:function(e){this.setState({showReportPopup:!0},this.setState({reportToResolve:e}))}},{key:"resolveReport",value:function(){var e=this,t=this.state.reports.filter((function(t){return t!==e.state.reportToResolve})),s=this.state.resolvedReports;this.state.reportToResolve.resolvedComment=this.state.comment.toString(),s.push(this.state.reportToResolve),this.setState({resolvedReports:s}),this.setState({reports:t}),this.setState({showReportPopup:!1})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"font-mono",children:[this.state.showReportPopup?Object(f.jsx)("div",{className:"absolute z-100 bg-black shadow-lg border w-2/6 h-auto mx-auto left-0 right-0 top-1/4 rounded-lg bg-opacity-90 text-white",children:Object(f.jsxs)("div",{className:"relative px-4 backdrop-filter my-4",children:[Object(f.jsxs)("div",{className:"text-center backdrop-filter ",children:[Object(f.jsx)("label",{className:"block",children:"Comments:"}),Object(f.jsx)("textarea",{type:"text",className:"text-black px-2 rounded-md w-96 h-32",value:this.state.comment,onChange:function(t){return e.updateComment(t)}})]}),Object(f.jsxs)("div",{className:"text-center mt-5 text-black",children:[Object(f.jsx)("button",{className:"inline bg-red-500 rounded-xl px-2 py-1 mx-1",onClick:function(){return e.setState({showReportPopup:!1},e.setState({comment:""}))},children:"CANCEL"}),Object(f.jsx)("button",{onClick:function(){return e.resolveReport()},className:"inline bg-green-500 rounded-xl px-2 py-1 mx-1",children:"Resolve"})]})]})}):null,Object(f.jsx)("div",{className:"border text-center text-3xl py-4",children:"REPORTS"}),Object(f.jsxs)("table",{className:"table-auto w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Submitter"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Destination"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Reason"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Date"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Time"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"ID"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Resolve"})]})}),Object(f.jsx)("tbody",{children:this.state.reports.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.submitter.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.reportedUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.reason.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.date.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.time.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:t.id.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:Object(f.jsx)("button",{className:" bg-green-500 border  rounded-2xl px-2 py-1",onClick:function(){return e.showResolveReport(t)},children:"Mark As Resolved"})})]},t.id.toString())}))})]}),Object(f.jsx)("div",{className:"border text-center text-3xl py-4",children:"RESOLVED REPORTS"}),Object(f.jsxs)("table",{className:"table-auto w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Submitter"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Destination"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Reason"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Date"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Time"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"ID"}),Object(f.jsx)("th",{className:"px-4 py-2 border text-center",children:"Comment"})]})}),Object(f.jsx)("tbody",{children:this.state.resolvedReports.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.submitter.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.reportedUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.reason.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.date.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.time.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.id.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.resolvedComment})]},e.id.toString()+"resolved")}))})]})]})}}]),s}(n.Component),H=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={filterOrigin:"",filterDestination:"",filterAmount:"",filterDate:"",filterTime:"",filterID:"",transactions:n.props.transactions,masterTransactions:n.props.transactions},n.filterOriginChange=n.filterOriginChange.bind(Object(p.a)(n)),n.filterDestinationChange=n.filterDestinationChange.bind(Object(p.a)(n)),n.filterAmountChange=n.filterAmountChange.bind(Object(p.a)(n)),n.filterDateChange=n.filterDateChange.bind(Object(p.a)(n)),n.filterTimeChange=n.filterTimeChange.bind(Object(p.a)(n)),n.filterIDChange=n.filterIDChange.bind(Object(p.a)(n)),n.filter=n.filter.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"filter",value:function(){var e=this,t=this.state.masterTransactions.filter((function(t){return(t.originUser.userName.toString().includes(e.state.filterOrigin.toString())||""==e.state.filterOrigin.toString())&&(t.destinationUser.userName.toString().includes(e.state.filterDestination.toString())||""==e.state.filterDestination)&&(t.amount.toString()==e.state.filterAmount.toString()||""===e.state.filterAmount)&&(t.date.toString().includes(e.state.filterDate.toString())||""===e.state.filterDate)&&(t.time.toString()==e.state.filterTime.toString()||""===e.state.filterTime)&&(t.id.toString().includes(e.state.filterID.toString())||""===e.state.filterID)}));this.setState({transactions:t},(function(){return console.log(e.state.transactions)}))}},{key:"filterOriginChange",value:function(e){var t=this;this.setState({filterOrigin:e.target.value},(function(){t.filter()}))}},{key:"filterDestinationChange",value:function(e){var t=this;this.setState({filterDestination:e.target.value},(function(){t.filter()}))}},{key:"filterAmountChange",value:function(e){var t=this;this.setState({filterAmount:e.target.value},(function(){t.filter()}))}},{key:"filterDateChange",value:function(e){var t=this;this.setState({filterDate:e.target.value.toString()},(function(){t.filter()}))}},{key:"filterTimeChange",value:function(e){var t=this;this.setState({filterTime:e.target.value},(function(){t.filter()}))}},{key:"filterIDChange",value:function(e){var t=this;this.setState({filterID:e.target.value},(function(){t.filter()}))}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"font-mono",children:[Object(f.jsx)("div",{className:"border text-center text-3xl py-4",children:"TRANSACTIONS"}),Object(f.jsxs)("table",{className:"table-auto w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Origin",Object(f.jsx)("input",{value:this.filterOrigin,onChange:this.filterOriginChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Destination",Object(f.jsx)("input",{value:this.filterDestination,onChange:this.filterDestinationChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Amount",Object(f.jsx)("input",{value:this.filterAmount,onChange:this.filterAmountChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Date",Object(f.jsx)("input",{value:this.filterDate,onChange:this.filterDateChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["Time",Object(f.jsx)("input",{value:this.filterTime,onChange:this.filterTimeChange,className:"block self-center border rounded-md m-auto"})]}),Object(f.jsxs)("th",{className:"px-4 py-2 border text-center",children:["ID",Object(f.jsx)("input",{value:this.filterID,onChange:this.filterIDChange,className:"block self-center border rounded-md m-auto"})]})]})}),Object(f.jsx)("tbody",{children:this.state.transactions.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.originUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.destinationUser.userName.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:"$"+e.amount.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.date.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.time.toString()}),Object(f.jsx)("td",{className:"px-4 py-2 border text-center",children:e.id.toString()})]},e.id)}))})]})]})}}]),s}(n.Component),Y=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={filterFirstName:"",filterLastName:"",filterUserName:"",filterWalletAddress:"",newFirstName:"",newLastName:"",newUserName:"",noFirstName:!1,noLastName:!1,noUserName:!1,users:n.props.users,masterUsers:n.props.users,showDeleteConfirm:!1,userToDelete:null},n.filterFirstNameChange=n.filterFirstNameChange.bind(Object(p.a)(n)),n.filterLastNameChange=n.filterLastNameChange.bind(Object(p.a)(n)),n.filterUserNameChange=n.filterUserNameChange.bind(Object(p.a)(n)),n.filterWalletAddressChange=n.filterWalletAddressChange.bind(Object(p.a)(n)),n.filter=n.filter.bind(Object(p.a)(n)),n.editMode=n.editMode.bind(Object(p.a)(n)),n.saveEdit=n.saveEdit.bind(Object(p.a)(n)),n.newFirstNameChange=n.newFirstNameChange.bind(Object(p.a)(n)),n.newLastNameChange=n.newLastNameChange.bind(Object(p.a)(n)),n.newUserNameChange=n.newUserNameChange.bind(Object(p.a)(n)),n.addNewUser=n.addNewUser.bind(Object(p.a)(n)),n.deleteUser=n.deleteUser.bind(Object(p.a)(n)),n.showDeleteUser=n.showDeleteUser.bind(Object(p.a)(n)),n}return Object(u.a)(s,[{key:"filter",value:function(){var e=this,t=this.state.masterUsers.filter((function(t){return(t.firstName.toString().includes(e.state.filterFirstName.toString())||""===e.state.filterFirstName)&&(t.lastName.toString().includes(e.state.filterLastName.toString())||""===e.state.filterLastName)&&(t.userName.toString().includes(e.state.filterUserName.toString())||""===e.state.filterUserName)&&(t.walletAddress.toString().includes(e.state.filterWalletAddress.toString())||""===e.state.filterWalletAddress)}));this.setState({users:t})}},{key:"filterFirstNameChange",value:function(e){var t=this;this.setState({filterFirstName:e.target.value},(function(){t.filter()}))}},{key:"filterLastNameChange",value:function(e){var t=this;console.log(e),this.setState({filterLastName:e.target.value},(function(){t.filter()}))}},{key:"filterUserNameChange",value:function(e){var t=this;this.setState({filterUserName:e.target.value},(function(){t.filter()}))}},{key:"filterWalletAddressChange",value:function(e){var t=this;this.setState({filterWalletAddress:e.target.value},(function(){t.filter()}))}},{key:"editMode",value:function(e,t){t.target.classList.add("hidden"),document.querySelectorAll("."+e.userName.toString()).forEach((function(e){e.setAttribute("contenteditable","true"),e.classList.add("border","border-gray-500","rounded-md","mx-2","animate-pulse")})),document.querySelector("."+e.userName.toString()+"savebutton").classList.remove("hidden")}},{key:"saveEdit",value:function(e,t){t.target.classList.add("hidden");var s=document.querySelectorAll("."+e.userName.toString());s.forEach((function(e){e.setAttribute("contenteditable","false"),e.classList.remove("border","border-gray-500","rounded-md","mx-2","animate-pulse")})),document.querySelector("."+e.userName.toString()+"editbutton").classList.remove("hidden"),e.firstName=s[0].innerHTML,e.lastName=s[1].innerHTML,e.userName=s[2].innerHTML}},{key:"newFirstNameChange",value:function(e){this.setState({newFirstName:e.target.value})}},{key:"newLastNameChange",value:function(e){this.setState({newLastName:e.target.value})}},{key:"newUserNameChange",value:function(e){this.setState({newUserName:e.target.value})}},{key:"addNewUser",value:function(){""!==this.state.newFirstName&&""!==this.state.newLastName&&""!==this.state.newUserName?(this.state.masterUsers.push(new v(this.state.newFirstName,this.state.newLastName,this.state.newUserName,0,Object(w.uuid)())),this.setState({users:this.state.masterUsers}),this.setState({newFirstName:""}),this.setState({newLastName:""}),this.setState({newUserName:""}),this.setState({noFirstName:!1}),this.setState({noLastName:!1}),this.setState({noUserName:!1})):(""===this.state.newFirstName?this.setState({noFirstName:!0}):this.setState({noFirstName:!1}),""===this.state.newLastName?this.setState({noLastName:!0}):this.setState({noLastName:!1}),""===this.state.newUserName?this.setState({noUserName:!0}):this.setState({noUserName:!1}))}},{key:"deleteUser",value:function(){var e=this,t=this.state.masterUsers.filter((function(t){return t!==e.state.userToDelete}));this.setState({masterUsers:t}),this.setState({users:t}),this.setState({showDeleteConfirm:!1})}},{key:"showDeleteUser",value:function(e){console.log(e),this.setState({userToDelete:e},this.setState({showDeleteConfirm:!0}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"font-mono",children:[this.state.showDeleteConfirm?Object(f.jsx)("div",{className:"absolute z-100 bg-black shadow-lg border w-1/6 mx-auto left-0 right-0 top-1/4 rounded-lg bg-opacity-90 text-white",children:Object(f.jsxs)("div",{className:"px-4 backdrop-filter my-4",children:[Object(f.jsxs)("div",{className:"text-center",children:["Are you sure you want to delete"," ",Object(f.jsx)("b",{className:"text-red-500",children:this.state.userToDelete.userName})," ","This action cannot be undone!"]}),Object(f.jsxs)("div",{className:"text-center mt-5 text-black",children:[Object(f.jsx)("button",{className:"inline bg-red-500 rounded-xl px-2 py-1 mx-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(){return e.setState({showDeleteConfirm:!1})},children:"CANCEL"}),Object(f.jsx)("button",{onClick:this.deleteUser,className:"inline bg-green-500 rounded-xl px-2 py-1 mx-1 transform hover:scale-110 transition duration-500 ease-in-out",children:"DELETE USER"})]})]})}):null,Object(f.jsx)("div",{className:"border text-center text-3xl py-4",children:"USERS"}),Object(f.jsxs)("table",{className:"w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"px-1 py-2 border text-center",children:"Profile Picture"}),Object(f.jsxs)("th",{className:"px-1 py-2 border text-center",children:["First Name",Object(f.jsx)("input",{value:this.state.filterFirstName,onChange:this.filterFirstNameChange,className:"block m-auto border rounded-md"})]}),Object(f.jsxs)("th",{className:"px-1 py-2 border text-center",children:["Last Name",Object(f.jsx)("input",{value:this.state.filterLastName,onChange:this.filterLastNameChange,className:"block m-auto border rounded-md"})]}),Object(f.jsxs)("th",{className:"px-1 py-2 border text-center",children:["Username",Object(f.jsx)("input",{value:this.state.filterUserName,onChange:this.filterUserNameChange,className:"block m-auto border rounded-md"})]}),Object(f.jsxs)("th",{className:"px-1 py-2 border text-center",children:["Wallet Address",Object(f.jsx)("input",{value:this.state.filterWalletAddress,onChange:this.filterWalletAddressChange,className:"block m-auto border rounded-md"})]}),Object(f.jsx)("th",{className:"px-1 py-2 border text-center",children:" Account Balance"}),Object(f.jsx)("th",{className:"px-1 py-2 border text-center ",children:"Edit"}),Object(f.jsx)("th",{className:"px-1 py-2 border text-center",children:"Delete User"})]})}),Object(f.jsx)("tbody",{children:this.state.users.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:Object(f.jsx)("img",{className:"m-auto w-10 h-10 rounded-full flex items-center justify-center",src:t.profilePicture})}),Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:Object(f.jsx)("div",{className:t.userName.toString(),children:t.firstName.toString()})}),Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:Object(f.jsx)("div",{className:t.userName.toString(),children:t.lastName.toString()})}),Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:Object(f.jsx)("div",{className:t.userName.toString(),children:t.userName.toString()})}),Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:t.walletAddress.toString()}),Object(f.jsx)("td",{className:"px-0.5 py-1 border text-center",children:"$"+t.currentAccountBalance.toString()}),Object(f.jsxs)("td",{className:"px-0.5 py-1 border text-center mx-2",children:[Object(f.jsx)("button",{className:t.userName.toString()+"editbutton bg-gray-400 border  rounded-2xl px-2 py-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(s){return e.editMode(t,s)},children:"Edit"}),Object(f.jsx)("button",{onClick:function(s){return e.saveEdit(t,s)},className:t.userName.toString()+"savebutton hidden bg-green-500 border border-black rounded-2xl px-2 py-1 transform hover:scale-110 transition duration-500 ease-in-out",children:"Save"})]}),Object(f.jsxs)("td",{className:"px-0.5 py-1 border text-center mx-2",children:[Object(f.jsxs)("button",{className:" bg-red-500 border  rounded-2xl px-2 py-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(){return e.showDeleteUser(t)},children:[" ","Delete User"]})," "]})]},t.userName.toString())}))})]}),Object(f.jsx)("div",{className:"flex",children:Object(f.jsxs)("div",{className:"my-2 mx-auto",children:[Object(f.jsx)("input",{className:(this.state.noFirstName?"border-red-500":"boder-black-700")+" border rounded-md mx-1 px-4",placeholder:"First Name",value:this.state.newFirstName,onChange:this.newFirstNameChange}),Object(f.jsx)("input",{className:(this.state.noLastName?"border-red-500":"boder-black-700")+" border rounded-md mx-1 px-4",placeholder:"Last Name",value:this.state.newLastName,onChange:this.newLastNameChange}),Object(f.jsx)("input",{className:(this.state.noUserName?"border-red-500":"boder-black-700")+" border rounded-md mx-1 px-4",placeholder:"Username",value:this.state.newUserName,onChange:this.newUserNameChange}),Object(f.jsx)("button",{className:"bg-green-500 border rounded-2xl px-2 py-1 transform hover:scale-110 transition duration-500 ease-in-out",onClick:function(){return e.addNewUser()},children:"Add New User"})]})})]})}}]),s}(n.Component),G=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).removeOutline=function(e){var t=document.querySelectorAll(".navs");console.log(t),t.forEach((function(e){e.classList.remove("underline","animate-pulse")})),e.target.classList.add("underline","animate-pulse")},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(m.a,{basename:"/AdminDashBoard",children:[Object(f.jsx)("div",{className:"bg-gray-700 py-4",children:Object(f.jsxs)("ul",{className:"font-mono font-thin",children:[Object(f.jsx)("li",{className:"inline px-3 text-2xl text-white",children:Object(f.jsx)(m.b,{onClick:this.removeOutline,className:"navs underline animate-pulse",to:"/reports",children:"Reports"})}),Object(f.jsx)("li",{className:"inline px-3 text-2xl text-white ",children:Object(f.jsx)(m.b,{className:"navs",onClick:this.removeOutline,to:"/users",children:"Users"})}),Object(f.jsx)("li",{className:"inline px-3 text-2xl text-white ",children:Object(f.jsx)(m.b,{className:"navs",onClick:this.removeOutline,to:"/moneyRequests",children:"Moneyrequests"})}),Object(f.jsx)("li",{className:"inline px-3 text-2xl text-white ",children:Object(f.jsx)(m.b,{className:"navs",onClick:this.removeOutline,to:"/transactions",children:"Transactions"})})]})}),Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(V,{reports:e.props.backend.reports,resolvedReports:e.props.backend.resolvedReports})}}),Object(f.jsx)(j.b,{exact:!0,path:"/reports",render:function(){return Object(f.jsx)(V,{reports:e.props.backend.reports,resolvedReports:e.props.backend.resolvedReports})}}),Object(f.jsx)(j.b,{exact:!0,path:"/users",render:function(){return Object(f.jsx)(Y,{users:e.props.backend.users})}}),Object(f.jsx)(j.b,{exact:!0,path:"/moneyrequests",render:function(){return Object(f.jsx)(W,{moneyRequests:e.props.backend.moneyRequests})}}),Object(f.jsx)(j.b,{exact:!0,path:"/transactions",render:function(){return Object(f.jsx)(H,{transactions:e.props.backend.transactions})}})]}),Object(f.jsx)("div",{className:"overflow-hidden px-5"})]})}}]),s}(n.Component),Q=(s(83),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={},n}return Object(u.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"flex font-serif w-screen h-screen text-center bg-gray-900 text-gray-200 text-3xl justify-center",children:[Object(f.jsxs)("p",{className:"mt-64 leading-relaxed",children:["You must install Metamask on your browser: ",Object(f.jsx)("a",{className:"animate-pulse underline",href:"https://metamask.io/download.html",children:"metamask.io/download.html"}),Object(f.jsx)("br",{}),"If you already have Metamask installed please connect an Etheruem wallet to the App"]}),Object(f.jsx)("div",{className:"absolute top-1/2 text-black",children:Object(f.jsx)("a",{className:"bg-gray-200 hover:bg-gray-400 rounded-md text-base p-2 font-light",href:"/",children:"back to Login"})})]})}}]),s}(n.Component)),$=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).setCurrentUser=function(e){n.setState({currentUser:e})},n.connectWallet=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=14;break}return e.prev=1,e.next=4,window.ethereum.enable();case 4:return t=e.sent,s={connectedStatus:!0,status:"",address:t},e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{connectedStatus:!1,status:"Connect to Metamask using the button on the top right."});case 12:e.next=15;break;case 14:return e.abrupt("return",{connectedStatus:!1,status:"You must install Metamask into your browser: https://metamask.io/download.html"});case 15:case"end":return e.stop()}}),e,null,[[1,9]])}))),n.state={backend:new R,currentUser:null},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsx)(m.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(O,{connectWallet:e.connectWallet,backend:e.state.backend,setCurrentUser:e.setCurrentUser})}}),Object(f.jsx)(j.b,{exact:!0,path:"/register",render:function(){return Object(f.jsx)(k,{backend:e.state.backend})}}),Object(f.jsx)(j.b,{exact:!0,path:"/userDashBoard",render:function(){return Object(f.jsx)(z,{backend:e.state.backend,currentUser:e.state.currentUser})}}),Object(f.jsx)(j.b,{exact:!0,path:"/adminDashBoard",render:function(){return Object(f.jsx)(G,{backend:e.state.backend,currentUser:e.state.currentUser})}}),Object(f.jsx)(j.b,{exact:!0,path:"/metamask",render:function(){return Object(f.jsx)(Q,{})}})]})})}}]),s}(r.a.Component),_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,87)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)($,{})}),document.getElementById("root")),_()}},[[84,1,2]]]);
//# sourceMappingURL=main.ed6201a4.chunk.js.map